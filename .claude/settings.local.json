{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nImplement multi-intent voice agent with calendar integration\n\nMajor Features Added:\n- Intent detection using OpenAI function calling + keyword fallback\n- Cal.com API integration for real-time calendar availability\n- Multi-path conversation flows \\(appointment, message, speak to person\\)\n- Slot negotiation with 3-attempt limit and message fallback\n- Dual webhook payloads \\(appointment_booking vs message\\)\n- Improved data extraction to remove filler words\n\nChanges:\n- Added Cal.com helper functions \\(getCalendarAvailability, createCalComBooking, detectSlotAcceptance\\)\n- Expanded memory structure to support multi-intent flows\n- Built context-aware system prompt builder\n- Replaced linear state machine with flow_state-based routing\n- Updated webhook logic for both appointment and message types\n- Added intent clarification handling\n- Updated .env.example and render.yaml with Cal.com config\n- Changed n8n webhook URL to production endpoint\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nUpdate n8n webhook URL to correct production endpoint\n\nChanged webhook URL from:\nhttps://ahadandco.app.n8n.cloud/webhook/ahad\n\nTo correct production URL:\nhttps://scottde.app.n8n.cloud/webhook/TestAhadCPA\n\nFiles updated:\n- index.js: Default webhook URL\n- .env.example: Example configuration\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix office hours flow to prevent premature disconnection\n\n- Enhanced office_hours_message handler to accept more ''yes'' variations\n- Detect when user repeats ''speak to someone'' and re-explain\n- Only end call on explicit ''no'' patterns\n- Default to message flow if unclear \\(more helpful\\)\n\nFixes issue where saying ''Can I speak with someone?'' was treated as ''No'' and hung up\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix critical bugs: data extraction, calendar flow, and validation\n\nData Extraction Improvements:\n- extractName: Remove conversation prefixes \\(sure, okay, yes, yeah\\)\n- extractName: Reject full sentences and questions \\(> 3 words or contains ?\\)\n- extractEmail: Add validation \\(must contain @ and domain\\)\n- extractEmail: Remove sentence prefixes and trailing periods\n\nCalendar Flow Fixes:\n- Calendar check now runs immediately when intent = appointment\n- Prevents OpenAI from hallucinating fake slots\n- Properly handles Cal.com not configured \\(switches to message flow\\)\n\nSlot Acceptance Improvements:\n- More flexible regex to match \"Okay. Yes, it can.\" patterns\n- Handles punctuation and spacing better\n- Checks for explicit rejections \\(no, nope, not, don''t, none\\)\n\nData Validation:\n- All name/email/phone fields now validated before proceeding\n- System stays in same state if invalid data detected\n- Prevents garbage data like \"Sure, my first name is Taney\" being saved\n\nThese fixes address:\n- Premature flow jumps\n- Hallucinated calendar slots\n- Invalid data being captured and sent to webhook\n- Voice consistency issues \\(by preventing errors\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
